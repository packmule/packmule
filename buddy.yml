- pipeline: "integrate"
  trigger_mode: "ON_EVERY_PUSH"
  ref_name: "*"
  ref_type: "WILDCARD"
  trigger_condition: "ALWAYS"
  actions:
  - action: "install"
    type: "BUILD"
    working_directory: "/buddy/packmule"
    docker_image_name: "library/node"
    docker_image_tag: "10"
    execute_commands:
    - "npm install"
    mount_filesystem_path: "/buddy/packmule"
    shell: "BASH"
    trigger_condition: "ALWAYS"
  - action: "build"
    type: "BUILD"
    working_directory: "/buddy/packmule"
    docker_image_name: "library/node"
    docker_image_tag: "10"
    execute_commands:
    - "npm run build"
    mount_filesystem_path: "/buddy/packmule"
    shell: "BASH"
    trigger_condition: "ALWAYS"
  - action: "test"
    type: "BUILD"
    working_directory: "/buddy/packmule"
    docker_image_name: "library/node"
    docker_image_tag: "10"
    execute_commands:
    - "npm test"
    mount_filesystem_path: "/buddy/packmule"
    shell: "BASH"
    trigger_condition: "ALWAYS"
  variables:
  - key: "HUSKY_SKIP_INSTALL"
    value: "1"
